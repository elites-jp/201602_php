

## はじめに
- プログラムはソースコードの上から下に向かって処理される
- でも、色々な条件によって処理を実行しなかったり、処理を繰り返し実行したい時がある
- そういった制御を行う構文を勉強します

## 1. if文(条件分岐)
- 「◯◯なら☆☆」などの処理ができる

### 1.1 とりあえずやってみる
入力された年齢($age)が20以上であれば`成人です`と出力する。
(20未満の場合は何も表示されない)

```php:if.php
<?php

$age = 21;

if ($age >= 20) {
    echo 'あなたは成人です';
}


```

```txt:if文の書き方
<?php
if (条件式) {
    // 処理
}

```

- 条件式がtrueのとき{}内の処理が実行される
- `trueのとき` とは、要するに 「条件式が正しい時」

### 1.2. 比較演算子

| 比較演算子 | 説明  | 備考 |
| :--: | :---: | :---: |
| ==   | 左辺と右辺が等しいときtrue。| |
| !=   | 左辺と右辺が等しくないときtrue| |
| ===  | 左辺と右辺が等しいときtrue。 |データ型もチェックされる。|
| !==  | 左辺と右辺が等しいときtrue。 |データ型もチェックされる。|
| <    | 左辺と右辺より小さいときtrue| |
| >    | 左辺と右辺より大きいときtrue| |
| <=   | 左辺と右辺より小さいか等しいときtrue| |
| >=   | 左辺と右辺より大きいか等しいときtrue| |

```php:if.php
<?php

$age = 18;

if ($age < 20) {
    "未成年です" . '<br>';
}


// 厳密演算子
if ($age !== '18') {
    echo '値とデータ型が一致していません' . '<br>';
}

// ちなみに条件式もvar_dump()で見ることができる
var_dump($age < 20);
var_dump($age !== '18');


```


### 1.3. if-else
- 成人か未成年かを判定するプログラム
- if文を2つ書く必要はない


```php:if.php
<?php

$age = 21;

if ($age >= 20) {
    // 20以上のとき実行される
    echo 'あなたは成人です';
} else {
    // 「20以上でないとき」 = 「20未満のとき」実行される
    echo 'あなたは未成年です';
}


```

```txt:if-else文の書き方

if (条件式) {
    // 処理1
} else {
    // 処理2
}


```

### 1.4. if-elseif-else
- 「条件Aでないときに、条件Bならば」みたいな構造も可能

```txt:if-elseif-else文の書き方

if (条件式1) {
    // 処理1
} elseif (条件式2) {
    // 処理2
} else {
    // 処理3
}

```

elseif はいくつでも重ねることができる


```php:if.php
<?php

$age = 21;

if ($age > 20) {
    // 20より大きいとき実行される
    echo 'あなたは成人です';
} elseif ($age == 20) {
    // 20のとき実行される
    echo '成人式ですね';
} else {
    echo 'あなたは未成年です';
}


```

### 1.5 論理演算子
- 条件式をもっと複雑にできる
- 「AかつBのとき」「AまたはBのとき」「Aでなくて、かつBのとき」などなど
- あんまり複雑にするとわかりにくいのでほどほどに

```php:if.php
<?php

// 2種類のテストの得点により合否判定を行う
// どちらのテストも80点以上: 合格
// どちらかのテストが50点以上: 追試
// 上記2つの条件を満たさない:  不合格

$score_1 = 50;
$score_2 = 50;

if ($score_1 >= 80 && $score_2 >= 80) {
    echo '合格';
} elseif ($score_1 >= 50 || $score_2 >= 50){
    echo '追試';
} else {
    echo '不合格';
}


```

### 1.6. 練習問題
- ある正の整数($num)が与えられたとき、それが偶数であるかどうかを判定するプログラムを作ってみましょう。

```txt:実行結果
// $num = 5のとき
5 は 偶数ではありません
// $num = 2のとき
2 は 偶数です
```


## 2. for文(繰り返し)
- 繰り返しの処理が出来る構文


```txt:for文

for (初期化式; 条件式; 更新式) {
    // 繰り返したい処理
}

1) 初期化を実行する
2) 条件式を評価して、trueなら{}内の処理を実行する。falseなら{}内の処理はせず終了する
3) {}内の処理が終わったら更新式を実行する
4) 再度、条件式を評価して、trueなら{}内の処理を実行する。falseなら{}内の処理はせず終了する
5) 3と4を繰り返す


```

- 一見ややこしいけど、使えば分かる



### 2.1. 同じことを何回もやるとき
- 「こんにちは」を10回表示するには？

```php:for.php
<?php

// echoを連打 は しんどい...
// 修正も大変
echo 'こんにちは';
echo 'こんにちは';
echo 'こんにちは';
echo 'こんにちは';
echo 'こんにちは';
echo 'こんにちは';
echo 'こんにちは';
echo 'こんにちは';
echo 'こんにちは';
echo 'こんにちは';


// forならスッキリ
for ($i = 1; $i <= 10; $i++) {
    echo 'こんにちは';
}


```
- echoを連打は大変。
- 修正も大変(もし「こんにちは」じゃなくて「こんばんは」だったら？)

### 2.2. 1から100までの数字を表示する
- 1から100までの数字を出すのに`echo`は面倒
- さっきは`$i`を繰り返し回数として利用したけど、そのまま利用もできる

```php:for.php
<?php

for ($i = 1; $i <= 100; $i++) {
    echo $i . ' ';
}


```



### 2.3. 1から100までの和
- さっきのソースコードを利用

```php:for.php
<?php

$sum = 0;

for ($i = 1; $i <= 100; $i++) {
    $sum += $i;
}

echo $sum;

```



### 2.4. 配列への繰り返し処理
- 繰り返しを利用して配列の各要素に同一の処理もできる

```php:for.php
<?php

// 全ての数値を2倍するプログラム

$nums = array(1, 2, 3, 4, 5);


for ($i = 0; $i < 5; $i++) {
    $nums[$i] *= 2;
}

var_dump($nums);

echo '<hr>';

// 配列の要素を全て取り出す
$fruits = array('banana', 'apple', 'melon');

for ($i = 0; $i < 3; $i++) {
    echo $fruits[$i] . '<br>';
}

```



## 3. foreach文(配列用の繰り返し)
- 配列の要素に対して同じ処理を繰り返すということはよくある
- for文で書けるが、ちょっと長い(さっきやった)
- そんなときには foreach
- これが使いこなせるとかなり強い

```txt:foreach文
foreach (配列 as 要素名) {
    // 処理
}

foreach (配列 as キー => 要素) {
    // 処理
}
```

### 3.1. ひとまず使ってみる

```php:foreach.php
<?php

// 全ての数値を2倍する
$nums = array(1, 2, 3, 4, 5);

foreach ($nums as $num) {
    $num *= 2;
    echo $num . '<br>';
}

var_dump($nums);

echo '<hr>';

// 配列の要素を全て取り出す
$sports = array('baseball', 'soccer', 'tennnis');

foreach ($sports as $sport) {
    echo $sport . '<br>';
}

```



### 3.2. 連想配列のキーも取り出すこともできる

```php:foreach.php
<?php

$prices = array(
    'apple'  => 150,
    'banana' => 200,
    'melon'  => 300
    );


foreach ($prices as $fruit => $price) {
    echo $fruit . ' は ' . $price . ' 円です' . '<br>';
}



```



## 4. 制御文の組み合わせ
- 条件分岐(if) と 繰り返し(for/foreach) が使えると出来ることがかなり増える
- ということで練習問題

### 4.1. 世界のナベアツ問題(初級)
- 1から100までの数字を数え上げ、3の倍数のときにアホになるプログラム

```php:nabeatsu_basic.php
1 2 アホ 4 5 アホ 7 8 アホ 10 11 アホ 13 14 アホ 16 17 アホ 19 20 アホ 22 23 アホ 25 26 アホ 28 29 アホ 31 32 アホ 34 35 アホ 37 38 アホ 40 41 アホ 43 44 アホ 46 47 アホ 49 50 アホ 52 53 アホ 55 56 アホ 58 59 アホ 61 62 アホ 64 65 アホ 67 68 アホ 70 71 アホ 73 74 アホ 76 77 アホ 79 80 アホ 82 83 アホ 85 86 アホ 88 89 アホ 91 92 アホ 94 95 アホ 97 98 アホ 100
```

### 4.2. FizzBuzz問題
- 1から100までの整数を表示せよ
- ただし、下記の条件に従うこと
    - 条件1. 3の倍数の時には'Fizz'と出力
    - 条件2. 5の倍数の時には'Buzz'と出力
    - 条件3. 3の倍数かつ5の倍数の時は'FizzBuzz'と出力

```php:fizzbuzz.php
1 2 Fizz 4 Buzz Fizz 7 8 Fizz Buzz 11 Fizz 13 14 FizzBuzz 16 17 Fizz 19 Buzz Fizz 22 23 Fizz Buzz 26 Fizz 28 29 FizzBuzz 31 32 Fizz 34 Buzz Fizz 37 38 Fizz Buzz 41 Fizz 43 44 FizzBuzz 46 47 Fizz 49 Buzz Fizz 52 53 Fizz Buzz 56 Fizz 58 59 FizzBuzz 61 62 Fizz 64 Buzz Fizz 67 68 Fizz Buzz 71 Fizz 73 74 FizzBuzz 76 77 Fizz 79 Buzz Fizz 82 83 Fizz Buzz 86 Fizz 88 89 FizzBuzz 91 92 Fizz 94 Buzz Fizz 97 98 Fizz Buzz

```


