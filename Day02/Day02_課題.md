# 問題
## 1. 素数を求める
- 1から100までの数値のうち、素数のみを表示するプログラム
- 方法はたくさんある

```php:prime_number.php
2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97
```



### 2. 世界のナベアツ問題(応用)
- 1から100までの数字を数え上げ、3の倍数と3のつく数字だけアホになるプログラム

```php:nabeatsu_advanced.php
1 2 アホ 4 5 アホ 7 8 アホ 10 11 アホ アホ 14 アホ 16 17 アホ 19 20 アホ 22 アホ アホ 25 26
アホ 28 29 アホ アホ アホ アホ アホ アホ アホ アホ アホ アホ 40 41 アホ アホ 44 アホ 46 47 アホ
49 50 アホ 52 アホ アホ 55 56 アホ 58 59 アホ 61 62 アホ 64 65 アホ 67 68 アホ 70 71 アホ
アホ 74 アホ 76 77 アホ 79 80 アホ 82 アホ アホ 85 86 アホ 88 89 アホ 91 92 アホ 94 95 アホ 97 98 アホ 100
```

# 素数を求めるの解説
いろいろアルゴリズムがありますが、単純な場合の回答を載せました。

アルゴリズム

- `$i` を 1 から 100 まで forループ
    - 素数判定用のフラグ(`$flag`)を初期化(true: 素数, false: 素数でない)
    - `$j` を 1 から `$i-1` まで forループ
        - `$i` が `$j` で割り切れるかどうか調べる
            - 全ての `$j` で 割り切れなかったら `$i` は素数である
            - いずれかの `$j` で 割り切れたら   `$i` は素数でない

```prime_number.php
<?php

for ($i = 1; $i <= 100; $i++) {

    // 素数フラグの初期化
    $flag = true;

    // 1以下の場合は次の値をチェック
    if ($i <= 1) {
      continue;
    }

    // 2は素数
    if ($i == 2) {
      echo $i . " ";
      continue;
    }

    // $i を $j(2 から $i-1) で割りきれるか調べる
    for ($j = 2; $j < $i; $j++) {
        // 割りきれてしまったら素数ではないので次の値をチェック
        if ($i % $j == 0) {
            $flag = false;
            break;
        }
    }

    // 割れなかった場合は素数なので表示
    if ($flag == true) {
        echo $i . " ";
    }

}
```


# 世界のナベアツ問題(応用)の解説
いろいろやり方があると思うがここで解説するのは、

- 標準関数を利用する場合
- 標準関数を利用しない場合

## 1. 標準関数を利用する場合
`strstr()`を使うと瞬殺

文字列内に特定の文字列が存在するかどうかをチェックする関数。

### アルゴリズム

- `$i` を 1から100までforでループ
- `$i` が 3で割り切れる または `$i` のなかに`3`が含まれている ときに `$i` を出力する


```php:nabeatsu_advanced.php
<?php

for($i = 1; $i <= 100; $i++){

    if($i % 3 == 0 || strstr($i, '3') ) {
        echo 'アホ ';
     } else {
        echo $i . ' ';
     }
}

```


## 2. 標準関数を使わない場合

### アルゴリズム
- `$i`を1から100までforループ
- 判定用のフラグ変数`$flag`を用意(`$flag`がtrueのとき、`$i`は3の倍数か3のつく数字)
- `$i` が 3で割り切れる場合に `$flag` を true にする。
- `$i`を1ケタごとに分解する
    - 分解された数字の中に`3`があれば、`$flag`をtrueにする
- `$flag`がtrueなら「アホ」を出力する
- `$flag`がfalseなら`$i`を出力する

このアルゴリズムの中で「`$i`を1ケタごとに分解する」がちょっと難しい。

例) 4392 の ケタ数を求めるには？
下記のような流れでいける
4392 を 10 で 割る -> 商: 429 余:2
429  を 10 で 割る -> 商: 42  余:9
42   を 10 で 割る -> 商: 4   余:3
4    を 10 で 割る -> 商: 0   余:4



### 解答例

```php:nabeatsu_advanced.php
<?php

for ($i = 1; $i <= 100; $i++) {

    // フラグの初期化
    $flag = false;

    // 各ケタを格納する配列を初期化
    $digs = array();

    // 3で割り切れたら$flagをtrueに
    if ($i % 3 == 0) {
        $flag = true;
    }

    // 3で割り切れない場合に、各ケタを分解してチェックする
    if ($flag == false) {

        // 桁数を0に初期化
        $length = 0;

        // $n に $i を代入
        // $n に数的処理を加えるので、もし$iのままで処理をするとカウンタ変数がくrってしまうため
        $n = $i;

        // 数字の桁数を取得する
        // どの数字も1ケタ以上なので、do-while
        do {
            $length++; // 桁数を1増やす
            $n = $n / 10;
        } while($n >= 1);


        // 各ケタの値を取り出す
        $num = $i;
        for ($j = 0; $j < $length; $j++) {
            $dig = ($num % 10); // 各桁の値を保持する変数
            $digs[] = $dig;     // 各ケタの値を格納する配列
            $num = $num / 10;
        }

        // $digsの中に3が含まれているかチェック
        foreach ($digs as $dig) {
            if ($dig == 3) {
                $flag = true;
            }
        }
    }

    if ($flag) {
        echo 'アホ ';
    } else {
        echo $i . " ";
    }

}
```












